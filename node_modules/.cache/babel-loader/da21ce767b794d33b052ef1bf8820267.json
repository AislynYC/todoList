{"ast":null,"code":"var _jsxFileName = \"/Users/dumbcan/Desktop/todoList/todoList/todoList/src/components/Todo.js\",\n    _s = $RefreshSig$();\n\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * \n * Todo.js\n * \n * \n * \n * \n */\nimport { useState, useEffect } from 'react';\nimport { isCompositeComponent } from 'react-dom/test-utils';\nimport Card from '../components/Card.js';\nimport tStyle from './style/Todo.module.css';\nimport Checkbox from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Todo() {\n  _s();\n\n  var cardsDefault = new Object();\n  cardsDefault = {\n    0: {\n      name: \"\",\n      todoList: {\n        0: \"\"\n      },\n      todoListKey: 1\n    }\n  };\n  const checkSaveAction = localStorage.getItem(\"saveAction\") === \"true\";\n  console.log(\"checkSaveAction: \", checkSaveAction);\n  const [cards, setCards] = useState(cardsDefault);\n  const [key, setKey] = useState(1); // cardKey\n\n  const [removeState, setRemoveState] = useState(false);\n  const [saveList, setSaveList] = useState(true);\n\n  const updateLocal = () => {\n    localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n    localStorage.setItem(\"saveAction\", saveList);\n    localStorage.setItem(\"cardKey\", key);\n  };\n  /*  addCard()\n      Purpose:    to add an additional card \n      Effect:     sets the state of \"remove\" to false, preventing users \n                  to add cards while remove state is on. Then makes a copy \n                  of card Object to set new card by adding value of \n                  \"cardsDefault[0]\" with key \"key.\" finaly, increment key \n                  state.\n      Parameters: none\n  */\n\n\n  const addCard = () => {\n    setRemoveState(false);\n    let tempCard = Object.assign({}, cards);\n    tempCard[key] = Object.assign({}, cardsDefault[0]);\n    /*  increment key by 1 */\n\n    setKey(prev => prev + 1);\n    setCards(tempCard);\n    updateLocal(); // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n  };\n  /*  removeCard()\n      Purpose:    to remove a card with given cardKey identifier\n      Effect:     On removeState being true, create a copy of cards Object \n                  to delete the identified card with given parameter cardKey.\n                  Then updates the state of cards. \n      Parameters: int cardKey - key to the card to be removed \n  */\n\n\n  const removeCard = cardKey => {\n    /* Ensures only delete card when removeState is on */\n    console.log(\"removeCard cardKey: \", cardKey);\n\n    if (removeState) {\n      let tempCards = Object.assign({}, cards);\n      delete tempCards[cardKey];\n      setCards(prev => prev = tempCards);\n    }\n\n    updateLocal(); // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n  };\n  /*  updateCardName()\n      Purpose:    to update name of specified card onChange\n      Effect:     Creates a copy of cards Object, then alter the name of \n                  specified card. \n      Parameters: int cardKey     - the identifier to the card\n                  string cardName  - the name to be saved\n  */\n\n\n  const updateCardName = (cardKey, cardName) => {\n    let tempCards = Object.assign({}, cards);\n    console.log(\"before updateCardName: \", tempCards);\n    tempCards[cardKey].name = cardName;\n    console.log(\"after updateCardName: \", tempCards);\n    setCards(prev => prev = tempCards);\n    console.log(\"todojs updateCardName: \", cards[cardKey].name);\n    updateLocal(); // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n  };\n  /*  addTodoItem()\n      Purpose:    to add an additional todoItem\n      Effect:     makes a copy of \"cards\" to add additional string value\n                  to the new key \"cards[cardKey].todoListKey\". Then increment\n                  cards[cardKey].todoListKey by 1. lastly, setCards with the \n                  mutated tempCards Object \n      Parameters: int cardKey  - the identifier to the card that needs \n                                    needs to be altered\n  */\n\n\n  const addTodoItem = cardKey => {\n    let tempCards = Object.assign({}, cards);\n    /*  Adds new todoItem to the card */\n\n    tempCards[cardKey].todoList = { ...tempCards[cardKey].todoList,\n      [tempCards[cardKey].todoListKey]: \"\"\n    };\n    /* This increments the todoListKey by 1 to ensure adding todoItem is \n       added correctly each time */\n\n    tempCards[cardKey].todoListKey++;\n    setCards(prev => prev = tempCards);\n    console.log(\"todojs addTodoItem cards: \", cards);\n    updateLocal(); // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n  };\n  /*  deleteTodoItem()\n      Purpose:    to delete a todoItem\n      Effect:     Only allows the deletion of a todoItem if the specified \n                  card has a todoItemList greater than 1. On true, creates \n                  a copy of cards Object to delete the todoItem of at given\n                  cardKey at given todoItemKey. finally, update state of \n                  cards. \n      Parameters: int cardKey     - the identifier to the card that contains \n                                    the todoItem\n                  int todoItemKey - the identifier to the todoItem that will\n                                    be deleted \n  */\n\n\n  const deleteTodoItem = async (cardKey, todoItemKey) => {\n    /*  Only deletes the todoItem if the card has todoItemList > 1 */\n    if (Object.keys(cards[cardKey].todoList).length > 1) {\n      let tempCards = Object.assign({}, cards);\n      console.log(\"todoJs deleteTodoItem todoList: \", tempCards[cardKey].todoList);\n      console.log(\"todoJs deleteTodoItem todoItemKey: \", todoItemKey);\n      console.log(\"todoJs deleteTodoItem: b4 \", tempCards[cardKey].todoList[todoItemKey]);\n      delete tempCards[cardKey].todoList[todoItemKey];\n      console.log(\"todoJs deleteTodoItem: after \", tempCards[cardKey].todoList[todoItemKey]);\n      setCards(prev => prev = tempCards);\n      console.log(\"todoJs deleteTodoItem cards: \", cards);\n      console.log(\"todoJs deleteTodoItem tempCards: \", tempCards); // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n    }\n  };\n  /*  updateTodoItemMessage()\n      Purpose:    to update todoItem Message onChange\n      Effect:     Creates a copy of cards Object to change the todoItem of at \n                  given cardKey of given todoItemKey. finally, update state \n                  of cards. \n      Parameters: int cardKey     - the identifier to the card that contains \n                                    the todoItem\n                  int todoItemKey - the identifier to the todoItem that will\n                                    be changed \n                  string message  - the message that needs to be saved\n  */\n\n\n  const updateTodoItemMessage = (cardKey, todoItemKey, message) => {\n    let tempCards = Object.assign({}, cards);\n    tempCards[cardKey].todoList[todoItemKey] = message;\n    setCards(prev => prev = tempCards);\n    localStorage.setItem(\"savedCards\", JSON.stringify(cards)); // console.log(\"Todojs updateTodoItemMessage card message: \", cards[cardKey].todoList[todoItemKey])\n  };\n\n  useEffect(() => {\n    const onUnload = () => {\n      localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n      localStorage.setItem(\"saveAction\", saveList);\n      localStorage.setItem(\"cardKey\", key);\n      alert(\"onUnloaded\");\n    };\n\n    if (checkSaveAction) {\n      setCards(JSON.parse(localStorage.getItem(\"savedCards\")));\n      setKey(parseInt(localStorage.getItem(\"cardKey\")));\n      console.log(\"Todojs UseEffect key: \", key);\n      console.log(\"Todojs UseEffect localStorage key: \", localStorage.getItem(\"cardKey\"));\n    }\n\n    localStorage.setItem(\"saveAction\", saveList);\n    window.addEventListener(\"beforeunload\", onUnload);\n    return () => {\n      window.removeEventListener(\"beforeunload\", onUnload);\n    };\n  }, []);\n  useEffect(() => {\n    const addCardButton = document.getElementById(\"addCardButton\");\n    const removeCardButton = document.getElementById(\"removeCardButton\");\n\n    const updateRemoveState = () => {\n      setRemoveState(prev => !prev);\n    };\n\n    addCardButton.addEventListener(\"click\", addCard);\n    removeCardButton.addEventListener(\"click\", updateRemoveState);\n    console.log(\"Todo UseEffeect cards: \", cards);\n    return () => {\n      addCardButton.removeEventListener(\"click\", addCard);\n      removeCardButton.removeEventListener(\"click\", updateRemoveState);\n    };\n  }, [addCard]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: tStyle.todoContainer,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: tStyle.editsContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: tStyle.editButtons,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: tStyle.addEvent // onClick={addCard}\n          ,\n          id: \"addCardButton\",\n          children: \"\\uFF0B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: tStyle.removeEvent,\n          id: \"removeCardButton\"\n          /* onClick={() => {console.log(removeState); setRemoveState(!removeState); console.log(removeState)}} */\n          ,\n          children: \"\\uFF0D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: tStyle.saveListContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"saveList\",\n          className: tStyle.saveCheckbox,\n          checked: saveList,\n          onChange: () => {\n            localStorage.setItem(\"saveAction\", !saveList);\n            setSaveList(prev => !prev);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }, this), \"Auto Save\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: tStyle.cardsContainer,\n      children: Object.keys(cards).map((cardKey, index) => {\n        console.log(\"Todo.js cardKey: \", cardKey);\n        console.log(\"todojs objecke: \", Object.keys(cards));\n        return /*#__PURE__*/_jsxDEV(Card, {\n          removeCard: removeCard,\n          removeState: removeState,\n          card: cards[cardKey],\n          cardKey: cardKey,\n          addTodoItem: addTodoItem,\n          deleteTodoItem: deleteTodoItem,\n          updateTodoItemMessage: updateTodoItemMessage,\n          updateCardName: updateCardName\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Todo, \"zGn3Bd4dl5eDFwjNCQZuqLHVPg0=\");\n\n_c = Todo;\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"sources":["/Users/dumbcan/Desktop/todoList/todoList/todoList/src/components/Todo.js"],"names":["useState","useEffect","isCompositeComponent","Card","tStyle","Checkbox","Todo","cardsDefault","Object","name","todoList","todoListKey","checkSaveAction","localStorage","getItem","console","log","cards","setCards","key","setKey","removeState","setRemoveState","saveList","setSaveList","updateLocal","setItem","JSON","stringify","addCard","tempCard","assign","prev","removeCard","cardKey","tempCards","updateCardName","cardName","addTodoItem","deleteTodoItem","todoItemKey","keys","length","updateTodoItemMessage","message","onUnload","alert","parse","parseInt","window","addEventListener","removeEventListener","addCardButton","document","getElementById","removeCardButton","updateRemoveState","todoContainer","editsContainer","editButtons","addEvent","removeEvent","saveListContainer","saveCheckbox","cardsContainer","map","index"],"mappings":"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","sourcesContent":["/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * \n * Todo.js\n * \n * \n * \n * \n */\n\n\nimport {useState, useEffect} from 'react';\nimport { isCompositeComponent } from 'react-dom/test-utils';\n\nimport Card from '../components/Card.js'\nimport tStyle from './style/Todo.module.css';\nimport Checkbox from '@material-ui/core';\n\n\nfunction Todo() {\n\n    \n\n    var cardsDefault = new Object();\n    cardsDefault = {\n        0: {\n            name: \"\",\n            todoList: {\n                0: \"\",\n            },\n            todoListKey: 1,\n        }, \n        \n    };\n\n    const checkSaveAction = localStorage.getItem(\"saveAction\") === \"true\";\n    console.log(\"checkSaveAction: \", checkSaveAction);\n\n    \n    const [cards, setCards] = useState(cardsDefault);\n    const [key, setKey] = useState(1);                      // cardKey\n    const [removeState, setRemoveState] = useState(false);\n\n    const [saveList, setSaveList] = useState(true);\n\n\n    const updateLocal = () =>\n    {\n            localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n            localStorage.setItem(\"saveAction\", saveList);\n            localStorage.setItem(\"cardKey\", key);\n            \n            \n    }\n\n\n    /*  addCard()\n        Purpose:    to add an additional card \n        Effect:     sets the state of \"remove\" to false, preventing users \n                    to add cards while remove state is on. Then makes a copy \n                    of card Object to set new card by adding value of \n                    \"cardsDefault[0]\" with key \"key.\" finaly, increment key \n                    state.\n        Parameters: none\n    */\n    const addCard = () => \n    {\n\n        setRemoveState(false);\n        \n        let tempCard = Object.assign({}, cards);\n        tempCard[key] = Object.assign({}, cardsDefault[0]);\n        \n        /*  increment key by 1 */\n        setKey(prev => prev + 1);\n\n        setCards(tempCard);\n\n        updateLocal();\n        // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n\n\n    }\n\n\n    /*  removeCard()\n        Purpose:    to remove a card with given cardKey identifier\n        Effect:     On removeState being true, create a copy of cards Object \n                    to delete the identified card with given parameter cardKey.\n                    Then updates the state of cards. \n        Parameters: int cardKey - key to the card to be removed \n    */\n    const removeCard = (cardKey) => \n    { \n        /* Ensures only delete card when removeState is on */\n        console.log(\"removeCard cardKey: \", cardKey);\n        if (removeState) {\n            let tempCards = Object.assign({}, cards);\n           \n            delete tempCards[cardKey];\n            setCards(prev => prev = tempCards);\n            \n        }\n\n        updateLocal();\n\n        // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n\n    }\n    \n    /*  updateCardName()\n        Purpose:    to update name of specified card onChange\n        Effect:     Creates a copy of cards Object, then alter the name of \n                    specified card. \n        Parameters: int cardKey     - the identifier to the card\n                    string cardName  - the name to be saved\n    */\n    const updateCardName = (cardKey, cardName) => \n    {\n        let tempCards = Object.assign({}, cards);\n        console.log(\"before updateCardName: \", tempCards);\n\n        tempCards[cardKey].name = cardName;\n        console.log(\"after updateCardName: \", tempCards);\n        setCards(prev => prev = tempCards);\n        console.log(\"todojs updateCardName: \", cards[cardKey].name );\n\n        updateLocal();\n\n        // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n\n\n    }\n\n\n    /*  addTodoItem()\n        Purpose:    to add an additional todoItem\n        Effect:     makes a copy of \"cards\" to add additional string value\n                    to the new key \"cards[cardKey].todoListKey\". Then increment\n                    cards[cardKey].todoListKey by 1. lastly, setCards with the \n                    mutated tempCards Object \n        Parameters: int cardKey  - the identifier to the card that needs \n                                      needs to be altered\n    */\n    const addTodoItem = (cardKey) => \n    {\n        \n        let tempCards = Object.assign({}, cards);\n\n        /*  Adds new todoItem to the card */\n        tempCards[cardKey].todoList = {\n            ...tempCards[cardKey].todoList,\n            [tempCards[cardKey].todoListKey] : \"\",\n        }\n        \n        /* This increments the todoListKey by 1 to ensure adding todoItem is \n           added correctly each time */\n        tempCards[cardKey].todoListKey++;\n        setCards(prev => prev = tempCards);\n        console.log(\"todojs addTodoItem cards: \", cards);\n\n        updateLocal();\n\n        // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n\n\n    }\n\n    \n   \n    /*  deleteTodoItem()\n        Purpose:    to delete a todoItem\n        Effect:     Only allows the deletion of a todoItem if the specified \n                    card has a todoItemList greater than 1. On true, creates \n                    a copy of cards Object to delete the todoItem of at given\n                    cardKey at given todoItemKey. finally, update state of \n                    cards. \n        Parameters: int cardKey     - the identifier to the card that contains \n                                      the todoItem\n                    int todoItemKey - the identifier to the todoItem that will\n                                      be deleted \n    */\n    const deleteTodoItem = async (cardKey, todoItemKey) => \n    {\n\n        /*  Only deletes the todoItem if the card has todoItemList > 1 */\n        if (Object.keys(cards[cardKey].todoList).length > 1) {\n            let tempCards = Object.assign({}, cards);\n            console.log(\"todoJs deleteTodoItem todoList: \", tempCards[cardKey].todoList);\n            console.log(\"todoJs deleteTodoItem todoItemKey: \", todoItemKey);\n\n            console.log(\"todoJs deleteTodoItem: b4 \", tempCards[cardKey].todoList[todoItemKey]);\n            delete tempCards[cardKey].todoList[todoItemKey];\n            console.log(\"todoJs deleteTodoItem: after \", tempCards[cardKey].todoList[todoItemKey]);\n\n            setCards(prev => prev = tempCards);\n            console.log(\"todoJs deleteTodoItem cards: \", cards);\n            console.log(\"todoJs deleteTodoItem tempCards: \", tempCards);\n\n            // localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n\n\n\n        }\n        \n    }\n    /*  updateTodoItemMessage()\n        Purpose:    to update todoItem Message onChange\n        Effect:     Creates a copy of cards Object to change the todoItem of at \n                    given cardKey of given todoItemKey. finally, update state \n                    of cards. \n        Parameters: int cardKey     - the identifier to the card that contains \n                                      the todoItem\n                    int todoItemKey - the identifier to the todoItem that will\n                                      be changed \n                    string message  - the message that needs to be saved\n    */\n    const updateTodoItemMessage = (cardKey, todoItemKey, message) => \n    {\n        let tempCards = Object.assign({}, cards);\n        \n        tempCards[cardKey].todoList[todoItemKey] = message;\n\n        setCards(prev => prev = tempCards);\n        \n        localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n\n        // console.log(\"Todojs updateTodoItemMessage card message: \", cards[cardKey].todoList[todoItemKey])\n    }\n\n    useEffect(() => \n    {\n        const onUnload = () =>\n        {\n            localStorage.setItem(\"savedCards\", JSON.stringify(cards));\n            localStorage.setItem(\"saveAction\", saveList);\n            localStorage.setItem(\"cardKey\", key);\n            alert(\"onUnloaded\");\n        }\n\n        if (checkSaveAction) {\n            setCards(JSON.parse(localStorage.getItem(\"savedCards\")));\n            setKey(parseInt(localStorage.getItem(\"cardKey\")));\n            console.log(\"Todojs UseEffect key: \", key);\n            console.log(\"Todojs UseEffect localStorage key: \", localStorage.getItem(\"cardKey\"));\n\n        }\n        localStorage.setItem(\"saveAction\", saveList);\n\n        window.addEventListener(\"beforeunload\", onUnload);\n\n        return(() => \n        {\n            window.removeEventListener(\"beforeunload\", onUnload);\n\n        })\n        \n    }, []);\n\n    useEffect(() => {\n\n       \n        const addCardButton = document.getElementById(\"addCardButton\");\n        const removeCardButton = document.getElementById(\"removeCardButton\");\n\n        \n        const updateRemoveState = () => \n        {\n            setRemoveState((prev) => !prev); \n        }\n        addCardButton.addEventListener(\"click\", addCard);\n        removeCardButton.addEventListener(\"click\", updateRemoveState);\n        \n        console.log(\"Todo UseEffeect cards: \" , cards);\n\n        return (() => \n        {\n            addCardButton.removeEventListener(\"click\", addCard);\n            removeCardButton.removeEventListener(\"click\", updateRemoveState);\n\n        });\n    }, [addCard])\n\n\n    return (\n        <div className={tStyle.todoContainer}>\n            <div className={tStyle.editsContainer}>\n                <div className={tStyle.editButtons}>\n                    <button className={tStyle.addEvent}\n                            // onClick={addCard}\n                            id=\"addCardButton\">\n                        ＋\n                    </button>\n                    <button className={tStyle.removeEvent}\n                            id=\"removeCardButton\"\n                            /* onClick={() => {console.log(removeState); setRemoveState(!removeState); console.log(removeState)}} */>\n                        －\n                    </button>\n                </div>\n                \n                <label className={tStyle.saveListContainer}>\n                    <input type=\"checkbox\" name=\"saveList\" className={tStyle.saveCheckbox} checked={saveList} onChange={() => {localStorage.setItem(\"saveAction\", !saveList); setSaveList((prev) => !prev);   }}/>\n                    Auto Save\n                </label>\n            </div>\n\n            <div className={tStyle.cardsContainer}> \n            \n                {\n                    \n                    Object.keys(cards).map((cardKey, index) => {\n                        console.log(\"Todo.js cardKey: \", cardKey);\n                        console.log(\"todojs objecke: \", Object.keys(cards));\n                        return (\n                            <Card removeCard = {removeCard}\n                                  removeState = {removeState} \n                                  card = {cards[cardKey]}\n                                  cardKey = {cardKey}\n                                  addTodoItem={addTodoItem}\n                                  key={index}\n                                  deleteTodoItem={deleteTodoItem}\n                                  updateTodoItemMessage={updateTodoItemMessage}\n                                  updateCardName={updateCardName}>\n                                    \n                            </Card>\n                        )\n                    })\n                }\n             \n                \n            </div>\n\n        </div>\n    );\n}\n\nexport default Todo;\n"]},"metadata":{},"sourceType":"module"}